From c631acb9adec8ae67add912119ff3b768a65c9a7 Mon Sep 17 00:00:00 2001
From: clivetaylor <clive.taylor@megger.com>
Date: Wed, 28 Oct 2015 16:52:39 +0000
Subject: [PATCH] All devices added and reconfigured - not all unused removed

---
 arch/arm/boot/dts/imx6m300-common.dtsi |  26 ++-
 arch/arm/boot/dts/imx6m300-dl.dtsi     |  10 +-
 arch/arm/boot/dts/imx6m300-qdl.dtsi    | 346 +++++++++++++++++++++++----------
 arch/arm/boot/dts/imx6m300.dtsi        | 210 ++++++++++++++------
 4 files changed, 428 insertions(+), 164 deletions(-)

diff --git a/arch/arm/boot/dts/imx6m300-common.dtsi b/arch/arm/boot/dts/imx6m300-common.dtsi
index 3cd3977..1e2685b 100644
--- a/arch/arm/boot/dts/imx6m300-common.dtsi
+++ b/arch/arm/boot/dts/imx6m300-common.dtsi
@@ -5,29 +5,49 @@
  * it under the terms of the GNU General Public License version 2 as
  * published by the Free Software Foundation.
  */
+
 /*
+ *	EPDC (Electronic Paper Display Controller) - not available on M300
+ *
 &epdc {
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_epdc_0>;
 	V3P3-supply = <&V3P3_reg>;
 	VCOM-supply = <&VCOM_reg>;
 	DISPLAY-supply = <&DISPLAY_reg>;
-	status = "okay";
+	status = "disabled";
 };
-*/
+ */
+
 &ldb {
 	ipu_id = <0>;
 	sec_ipu_id = <0>;
 };
 
+//
+//	LVDS 7" (800x480) Disabled by default on M300
+//
 &mxcfb1 {
-	status = "okay";
+	status = "disabled";
 };
 
+//
+//	HDMI - not available on M300
+//
 &mxcfb2 {
+	status = "disabled";
+};
+
+//
+//	Assume 4.3" parallel RGB as default on M300
+//
+&mxcfb3 {
 	status = "okay";
 };
 
+//
+//	Pixel Pipeline - needs to be enabled for graphics output
+//
 &pxp {
 	status = "okay";
 };
diff --git a/arch/arm/boot/dts/imx6m300-dl.dtsi b/arch/arm/boot/dts/imx6m300-dl.dtsi
index c01bfd8..97c9093 100644
--- a/arch/arm/boot/dts/imx6m300-dl.dtsi
+++ b/arch/arm/boot/dts/imx6m300-dl.dtsi
@@ -163,7 +163,7 @@
 			};
 			/*
 			 *	Electronic Paper Device Controller (EPDC)
-			 *	Not used in M300
+			 *	Not used on M300
 			 *
 			epdc: epdc@020f4000 {
 				compatible = "fsl,imx6dl-epdc";
@@ -185,8 +185,8 @@
 
 		aips2: aips-bus@02100000 {
 			/*
-			 *	Mobile Industry Processor Interface (MIPI) Dispalay Interface (DSI)
-			 * 	Not used in M300
+			 *	Mobile Industry Processor Interface (MIPI) Display Interface (DSI)
+			 *  Not used in M300
 			 *
 			mipi_dsi: mipi@021e0000 {
 				compatible = "fsl,imx6dl-mipi-dsi";
@@ -205,15 +205,13 @@
 				compatible = "fsl,imx1-i2c";
 				reg = <0x021f8000 0x4000>;
 				interrupts = <0 35 0x04>;
-				status = "disabled";
+				status = "okay";
 			};
 		};
 	};
 };
 
 /*
- * IOMUXC Settings for EPDC - Not used in M300
- *
 &iomuxc {
 	epdc {
 		pinctrl_epdc_0: epdcgrp-0 {
diff --git a/arch/arm/boot/dts/imx6m300-qdl.dtsi b/arch/arm/boot/dts/imx6m300-qdl.dtsi
index b404f7d..764f377 100644
--- a/arch/arm/boot/dts/imx6m300-qdl.dtsi
+++ b/arch/arm/boot/dts/imx6m300-qdl.dtsi
@@ -106,7 +106,7 @@
 		};
 		/*
 		 *	General Purpose Media Interface
-		 */
+		 *
 		gpmi: gpmi-nand@00112000 {
 			compatible = "fsl,imx6q-gpmi-nand";
 			#address-cells = <1>;
@@ -123,7 +123,7 @@
 			dma-names = "rx-tx";
 			status = "disabled";
 		};
-
+		 */
 		timer@00a00600 {
 			compatible = "arm,cortex-a9-twd-timer";
 			reg = <0x00a00600 0x20>;
@@ -213,11 +213,11 @@
 					interrupts = <0 31 0x04>;
 					clocks = <&clks 112>, <&clks 112>;
 					clock-names = "ipg", "per";
-					status = "disabled";
+					status = "okay";
 				};
 				/*
 				 *	ECSPI2, 3 & 4 remain disabled on M300
-				 */
+				 *
 				ecspi2: ecspi@0200c000 {
 					#address-cells = <1>;
 					#size-cells = <0>;
@@ -250,6 +250,7 @@
 					clock-names = "ipg", "per";
 					status = "disabled";
 				};
+				 */
 				/*
 				 * M300 implements 3 UARTs (iMX6 UARTs 1, 4 and 5)
 				 */
@@ -261,11 +262,12 @@
 					clock-names = "ipg", "per";
 					dmas = <&sdma 25 4 0>, <&sdma 26 4 0>;
 					dma-names = "rx", "tx";
-					status = "disabled";
+					status = "okay";
 				};
 				/*
 				 * Enhanced Serial Audio Interface (ESAI). 
-				 */
+				 * Not implemented on M300
+				 *
 				esai: esai@02024000 {
 					compatible = "fsl,imx6q-esai";
 					reg = <0x02024000 0x4000>;
@@ -276,6 +278,8 @@
 					fsl,flags = <1>;
 					status = "disabled";
 				};
+				 */
+				 
 				/*
 				 * Synchronous Serial Interface (SSI) aka I2S
 				 */
@@ -288,7 +292,7 @@
 					dmas = <&sdma 37 1 0>,
 					       <&sdma 38 1 0>;
 					dma-names = "rx", "tx";
-					status = "disabled";
+					status = "okay";
 				};
 				/*
 				 * SSI2 and 3 remain disabled on M300
@@ -340,7 +344,9 @@
 					fsl,asrc-dma-tx-events = <20 21 22>;
 					status = "okay";
 				};
-
+				/*
+				 * Shared Peripheral Bus Arbiter
+				 */
 				spba@0203c000 {
 					reg = <0x0203c000 0x4000>;
 				};
@@ -364,7 +370,11 @@
 			aipstz@0207c000 { /* AIPSTZ1 */
 				reg = <0x0207c000 0x4000>;
 			};
-
+			/*
+			 * PWM1 is used for LVDS brightness control on M300
+			 * (could also control parallel LCD brightness, but 
+			 * hard wired on M300 Carrier)
+			 */
 			pwm1: pwm@02080000 {
 				#pwm-cells = <2>;
 				compatible = "fsl,imx6q-pwm", "fsl,imx27-pwm";
@@ -373,7 +383,10 @@
 				clocks = <&clks 62>, <&clks 145>;
 				clock-names = "ipg", "per";
 			};
-
+			/*
+			 * PWM2 Can be used for a buzzer on M300 - it is available 
+			 * on GPIO01_IO19 (SD1_DATA2)
+			 */
 			pwm2: pwm@02084000 {
 				#pwm-cells = <2>;
 				compatible = "fsl,imx6q-pwm", "fsl,imx27-pwm";
@@ -383,6 +396,9 @@
 				clock-names = "ipg", "per";
 			};
 
+			/*
+			 * PWM3 is not available on M300
+			 *
 			pwm3: pwm@02088000 {
 				#pwm-cells = <2>;
 				compatible = "fsl,imx6q-pwm", "fsl,imx27-pwm";
@@ -390,8 +406,13 @@
 				interrupts = <0 85 0x04>;
 				clocks = <&clks 62>, <&clks 147>;
 				clock-names = "ipg", "per";
+				status = "disabled";
 			};
+			 */
 
+			/*
+			 * PWM4 is not available on M300
+			 *
 			pwm4: pwm@0208c000 {
 				#pwm-cells = <2>;
 				compatible = "fsl,imx6q-pwm", "fsl,imx27-pwm";
@@ -399,7 +420,9 @@
 				interrupts = <0 86 0x04>;
 				clocks = <&clks 62>, <&clks 148>;
 				clock-names = "ipg", "per";
+				status = "disabled";
 			};
+			 */
 			/*
 			 * Flexible Controller Area Network (FlexCAN) - Freescale's implementation of CAN
 			 */
@@ -410,11 +433,11 @@
 				clocks = <&clks 108>, <&clks 109>;
 				clock-names = "ipg", "per";
 				gpr = <&gpr>;
-				status = "disabled";
+				status = "okay";
 			};
 			/*
 			 * FlexCAN2 remains disabled on M300
-			 */
+			 *
 			flexcan2: can@02094000 {
 				compatible = "fsl,imx6q-flexcan";
 				reg = <0x02094000 0x4000>;
@@ -424,6 +447,7 @@
 				gpr = <&gpr>;
 				status = "disabled";
 			};
+			 */
 			/*
 			 * General Purpose Timer (GPT)
 			 */
@@ -810,7 +834,9 @@
 			aipstz@0217c000 { /* AIPSTZ2 */
 				reg = <0x0217c000 0x4000>;
 			};
-
+			/*
+			 * USB-OTG is available as a USB2.0 host or device on the M300
+			 */
 			usbotg: usb@02184000 {
 				compatible = "fsl,imx6q-usb", "fsl,imx27-usb";
 				reg = <0x02184000 0x200>;
@@ -819,9 +845,11 @@
 				fsl,usbphy = <&usbphy1>;
 				fsl,usbmisc = <&usbmisc 0>;
 				fsl,anatop = <&anatop>;
-				status = "disabled";
+				status = "okay";
 			};
-
+			/*
+			 * USB H1 is available as a USB2.0 host on the M300
+			 */
 			usbh1: usb@02184200 {
 				compatible = "fsl,imx6q-usb", "fsl,imx27-usb";
 				reg = <0x02184200 0x200>;
@@ -829,9 +857,11 @@
 				clocks = <&clks 162>;
 				fsl,usbphy = <&usbphy2>;
 				fsl,usbmisc = <&usbmisc 1>;
-				status = "disabled";
+				status = "okay";
 			};
-
+			/*
+			 * USB2 is not available on the M300
+			 *
 			usbh2: usb@02184400 {
 				compatible = "fsl,imx6q-usb", "fsl,imx27-usb";
 				reg = <0x02184400 0x200>;
@@ -843,7 +873,10 @@
 				fsl,anatop = <&anatop>;
 				status = "disabled";
 			};
-
+			 */
+			/*
+			 * USB3 is not available on the M300
+			 *
 			usbh3: usb@02184600 {
 				compatible = "fsl,imx6q-usb", "fsl,imx27-usb";
 				reg = <0x02184600 0x200>;
@@ -855,6 +888,7 @@
 				fsl,anatop = <&anatop>;
 				status = "disabled";
 			};
+			 */
 
 			usbmisc: usbmisc: usbmisc@02184800 {
 				#index-cells = <1>;
@@ -892,6 +926,8 @@
 			 * M300 boots from SD2 (4-bit mode) and has full 8-bit mode access
 			 * to off-module SD4
 			 *
+			 * USDHC1 is not available on the M300
+			 *
 			usdhc1: usdhc@02190000 {
 				compatible = "fsl,imx6q-usdhc";
 				reg = <0x02190000 0x4000>;
@@ -902,7 +938,9 @@
 				status = "disabled";
 			};
 			 */
-
+			/*
+			 * USDHC2 - boot device for M300
+			 */
 			usdhc2: usdhc@02194000 {
 				compatible = "fsl,imx6q-usdhc";
 				reg = <0x02194000 0x4000>;
@@ -913,6 +951,8 @@
 				status = "disabled";
 			};
 			/*
+			 * USDHC3 is not available on the M300
+			 *
 			usdhc3: usdhc@02198000 {
 				compatible = "fsl,imx6q-usdhc";
 				reg = <0x02198000 0x4000>;
@@ -923,6 +963,9 @@
 				status = "disabled";
 			};
 			 */
+			/*
+			 * USDHC4 is off-module non-volatile storage for M300
+			 */
 			usdhc4: usdhc@0219c000 {
 				compatible = "fsl,imx6q-usdhc";
 				reg = <0x0219c000 0x4000>;
@@ -932,7 +975,9 @@
 				bus-width = <8>;
 				status = "disabled";
 			};
-
+			/*
+			 * I2C1 is used as the control channel for the SGT5000 Audio Codec
+			 */
 			i2c1: i2c@021a0000 {
 				#address-cells = <1>;
 				#size-cells = <0>;
@@ -942,7 +987,9 @@
 				clocks = <&clks 125>;
 				status = "disabled";
 			};
-
+			/*
+			 * I2C2 is not available on the M300
+			 */
 			i2c2: i2c@021a4000 {
 				#address-cells = <1>;
 				#size-cells = <0>;
@@ -952,7 +999,10 @@
 				clocks = <&clks 126>;
 				status = "disabled";
 			};
-
+			/*
+			 * I2C3 is available; on the carrier board it goes to both a header
+			 * and to a serial EEPROM (Atmel AT24C02D 2kB - as 256x8 bits)
+			 */
 			i2c3: i2c@021a8000 {
 				#address-cells = <1>;
 				#size-cells = <0>;
@@ -985,14 +1035,15 @@
 			/*
 			 * External Interface Module (EIM or WEIM) - control for
 			 * external memory such as NOR FLASH (Synchronous) or SRAM
-			 * type devices (Asynchronous)
-			 */
+			 * type devices (Asynchronous) - the M300 has neither.
+			 *
 			weim: weim@021b8000 {
 				compatible = "fsl,imx6q-weim";
 				reg = <0x021b8000 0x4000>;
 				interrupts = <0 14 0x04>;
 				clocks = <&clks 196>;
 			};
+			 */
 			/*
 			 * On Chip One-Time Programmable controller (OCOTP) (i.e. fuses)
 			 */
@@ -1052,7 +1103,9 @@
 				clocks = <&clks 202>;
 				iram = <&ocram>;
 			};
-
+			/*
+			 * UART2 is not available on the M300
+			 */
 			uart2: serial@021e8000 {
 				compatible = "fsl,imx6q-uart", "fsl,imx21-uart";
 				reg = <0x021e8000 0x4000>;
@@ -1063,7 +1116,9 @@
 				dma-names = "rx", "tx";
 				status = "disabled";
 			};
-
+			/*
+			 * UART3 is not available on the M300
+			 */
 			uart3: serial@021ec000 {
 				compatible = "fsl,imx6q-uart", "fsl,imx21-uart";
 				reg = <0x021ec000 0x4000>;
@@ -1074,7 +1129,9 @@
 				dma-names = "rx", "tx";
 				status = "disabled";
 			};
-
+			/*
+			 * UART4 is available as serial port 1 on the M300
+			 */
 			uart4: serial@021f0000 {
 				compatible = "fsl,imx6q-uart", "fsl,imx21-uart";
 				reg = <0x021f0000 0x4000>;
@@ -1085,7 +1142,9 @@
 				dma-names = "rx", "tx";
 				status = "disabled";
 			};
-
+			/*
+			 * UART5 is available as serial port 2 on the M300
+			 */
 			uart5: serial@021f4000 {
 				compatible = "fsl,imx6q-uart", "fsl,imx21-uart";
 				reg = <0x021f4000 0x4000>;
@@ -1119,20 +1178,24 @@
 
 &iomuxc {
 	audmux {
+		/*
+		 * The audio mux also uses AUD.CLK (pin P6)
+		 */
 		pinctrl_audmux_1: audmux-1 {
 			fsl,pins = <
-				MX6QDL_PAD_CSI0_DAT7__AUD3_RXD   0x130b0
+				MX6QDL_PAD_CSI0_DAT10__AUD3_RXC  0x130b0
 				MX6QDL_PAD_CSI0_DAT4__AUD3_TXC   0x130b0
 				MX6QDL_PAD_CSI0_DAT5__AUD3_TXD   0x110b0
 				MX6QDL_PAD_CSI0_DAT6__AUD3_TXFS  0x130b0
-				MX6QDL_PAD_CSI0_DAT10__AUD3_RXC  0x130b0
+				MX6QDL_PAD_CSI0_DAT7__AUD3_RXD	 0x130b0
 				MX6QDL_PAD_CSI0_DAT11__AUD3_RXFS 0x130b0
+				MX6QDL_PAD_GPIO_18__ASRC_EXT_CLK 0x130b0
 			>;
 		};
 	};
 
 	ecspi1 {
-		/*
+	    /*
 		pinctrl_ecspi1_cs_1: ecspi1_cs_grp-1 {
 			fsl,pins = <
 				MX6QDL_PAD_EIM_D19__GPIO3_IO19 0x80000000
@@ -1150,6 +1213,7 @@
 				MX6QDL_PAD_EIM_D24__ECSPI1_SS2  0x100b1
 			>;
 		};
+		
 		/*
 		pinctrl_ecspi1_2: ecspi1grp-2 {
 			fsl,pins = <
@@ -1161,6 +1225,9 @@
 		 */
 	};
 
+	/*
+	 * ESCPI 3 no used on M300
+	 *
 	ecspi3 {
 		pinctrl_ecspi3_1: ecspi3grp-1 {
 			fsl,pins = <
@@ -1170,24 +1237,50 @@
 			>;
 		};
 	};
+	 */
 
 	enet {
 		pinctrl_enet_1: enetgrp-1 {
 			fsl,pins = <
-				MX6QDL_PAD_ENET_MDIO__ENET_MDIO       0x1b0b0
-				MX6QDL_PAD_ENET_MDC__ENET_MDC         0x1b0b0
-				MX6QDL_PAD_ENET_RX_ER__ENET_RX_ER     0x1b0b0
 				MX6QDL_PAD_ENET_TXD0__ENET_TX_DATA0   0x1b0b0
 				MX6QDL_PAD_ENET_TXD1__ENET_TX_DATA1   0x1b0b0
 				MX6QDL_PAD_ENET_TX_EN__ENET_TX_EN     0x1b0b0
 				MX6QDL_PAD_ENET_RXD0__ENET_RX_DATA0   0x1b0b0
 				MX6QDL_PAD_ENET_RXD1__ENET_RX_DATA1   0x1b0b0
 				MX6QDL_PAD_ENET_CRS_DV__ENET_RX_EN    0x1b0b0
+				MX6QDL_PAD_ENET_MDC__ENET_MDC         0x1b0b0
+				MX6QDL_PAD_ENET_MDIO__ENET_MDIO	      0x1b0b0
+				MX6QDL_PAD_ENET_RX_ER__ENET_RX_ER     0x1b0b0
 				MX6QDL_PAD_ENET_REF_CLK__ENET_TX_CLK  0x1b0b0
 				MX6QDL_PAD_GPIO_16__ENET_REF_CLK      0x4001b0a8
 			>;
 		};
 		/*
+		pinctrl_enet_1: enetgrp-1 {
+			fsl,pins = <
+				MX6QDL_PAD_ENET_MDIO__ENET_MDIO       0x1b0b0
+				MX6QDL_PAD_ENET_MDC__ENET_MDC         0x1b0b0
+				MX6QDL_PAD_RGMII_TXC__RGMII_TXC       0x1b0b0
+				MX6QDL_PAD_RGMII_TD0__RGMII_TD0       0x1b0b0
+				MX6QDL_PAD_RGMII_TD1__RGMII_TD1       0x1b0b0
+				MX6QDL_PAD_RGMII_TD2__RGMII_TD2       0x1b0b0
+				MX6QDL_PAD_RGMII_TD3__RGMII_TD3       0x1b0b0
+				MX6QDL_PAD_RGMII_TX_CTL__RGMII_TX_CTL 0x1b0b0
+				MX6QDL_PAD_ENET_REF_CLK__ENET_TX_CLK  0x1b0b0
+				MX6QDL_PAD_RGMII_RXC__RGMII_RXC       0x1b0b0
+				MX6QDL_PAD_RGMII_RD0__RGMII_RD0       0x1b0b0
+				MX6QDL_PAD_RGMII_RD1__RGMII_RD1       0x1b0b0
+				MX6QDL_PAD_RGMII_RD2__RGMII_RD2       0x1b0b0
+				MX6QDL_PAD_RGMII_RD3__RGMII_RD3       0x1b0b0
+				MX6QDL_PAD_RGMII_RX_CTL__RGMII_RX_CTL 0x1b0b0
+				MX6QDL_PAD_GPIO_16__ENET_REF_CLK      0x4001b0a8
+			>;
+		};
+		*/
+		
+		/*
+		 * ENET 2 and 3 are not implemented on M300
+		 *
 		pinctrl_enet_2: enetgrp-2 {
 			fsl,pins = <
 				MX6QDL_PAD_KEY_COL1__ENET_MDIO        0x1b0b0
@@ -1232,6 +1325,7 @@
 		 */
 	};
 
+	/*
 	esai {
 		pinctrl_esai_1: esaigrp-1 {
 			fsl,pins = <
@@ -1262,6 +1356,7 @@
 			>;
 		};
 	};
+	 */
 
 	flexcan1 {
 		pinctrl_flexcan1_1: flexcan1grp-1 {
@@ -1271,7 +1366,10 @@
 			>;
 		};
 	};
-
+	
+	/*
+	 * FLAXCAN 2 is not used in M300
+	 *
 	flexcan2 {
 		pinctrl_flexcan2_1: flexcan2grp-1 {
 			fsl,pins = <
@@ -1280,7 +1378,9 @@
 			>;
 		};
 	};
-
+	 */
+	
+	/*
 	gpmi-nand {
 		pinctrl_gpmi_nand_1: gpmi-nand-1 {
 			fsl,pins = <
@@ -1304,7 +1404,9 @@
 			>;
 		};
 	};
-
+	 */
+	 
+	/* 
 	hdmi_hdcp {
 		pinctrl_hdmi_hdcp_1: hdmihdcpgrp-1 {
 			fsl,pins = <
@@ -1327,7 +1429,9 @@
 			>;
 		};
 	};
+	 */
 
+	/*
 	hdmi_cec {
 		pinctrl_hdmi_cec_1: hdmicecgrp-1 {
 			fsl,pins = <
@@ -1341,12 +1445,14 @@
 			>;
 		};
 	};
+	 */
 
 	i2c1 {
 		pinctrl_i2c1_1: i2c1grp-1 {
 			fsl,pins = <
-				MX6QDL_PAD_CSI0_DAT9__I2C1_SCL 0x4001b8b1
-				MX6QDL_PAD_EIM_D28__I2C1_SDA   0x4001b8b1
+				MX6QDL_PAD_EIM_D21__I2C1_SCL	0x4001b8b1
+				MX6QDL_PAD_CSI0_DAT9__I2C1_SCL	0x4001B8B1
+				//MX6QDL_PAD_EIM_D28__I2C1_SDA 0x4001b8b1
 			>;
 		};
 		/*
@@ -1356,10 +1462,12 @@
 				MX6QDL_PAD_CSI0_DAT9__I2C1_SCL 0x4001b8b1
 			>;
 		};
-		*/
+		 */
 	};
+
 	/*
 	 * I2C 2 Not used in M300
+	 *
 	i2c2 {
 		pinctrl_i2c2_1: i2c2grp-1 {
 			fsl,pins = <
@@ -1387,12 +1495,8 @@
 	i2c3 {
 		pinctrl_i2c3_1: i2c3grp-1 {
 			fsl,pins = <
-				MX6QDL_PAD_GPIO_5__I2C3_SCL  0x4001b8b1
+				MX6QDL_PAD_GPIO_5__I2C3_SCL 0x4001b8b1
 				MX6QDL_PAD_GPIO_6__I2C3_SDA 0x4001b8b1
-				/*
-				MX6QDL_PAD_EIM_D17__I2C3_SCL 0x4001b8b1
-				MX6QDL_PAD_EIM_D18__I2C3_SDA 0x4001b8b1
-				*/
 			>;
 		};
 		/*
@@ -1422,23 +1526,14 @@
 	i2c4 {
 		pinctrl_i2c4_1: i2c4grp-1 {
 			fsl,pins = <
-				MX6QDL_PAD_NANDF_WP_B__I2C4_SCL 0x4001b8b1
-				MX6QDL_PAD_NANDF_CS3__I2C4_SDA  0x4001b8b1
-				/*
-				MX6QDL_PAD_EIM_D17__I2C3_SCL 0x4001b8b1
-				MX6QDL_PAD_EIM_D18__I2C3_SDA 0x4001b8b1
-				*/
+				MX6QDL_PAD_NANDF_CS3__I2C4_SDA	0x4001B8B1
+				MX6QDL_PAD_NANDF_WP_B__I2C4_SCL	0x4001B8B1
 			>;
 		};
 	};
 	ipu1 {
 		pinctrl_ipu1_1: ipu1grp-1 {
 			fsl,pins = <
-				MX6QDL_PAD_DI0_DISP_CLK__IPU1_DI0_DISP_CLK 0x10
-				MX6QDL_PAD_DI0_PIN15__IPU1_DI0_PIN15       0x10
-				MX6QDL_PAD_DI0_PIN2__IPU1_DI0_PIN02        0x10
-				MX6QDL_PAD_DI0_PIN3__IPU1_DI0_PIN03        0x10
-				MX6QDL_PAD_DI0_PIN4__IPU1_DI0_PIN04        0x80000000
 				MX6QDL_PAD_DISP0_DAT0__IPU1_DISP0_DATA00   0x10
 				MX6QDL_PAD_DISP0_DAT1__IPU1_DISP0_DATA01   0x10
 				MX6QDL_PAD_DISP0_DAT2__IPU1_DISP0_DATA02   0x10
@@ -1463,10 +1558,18 @@
 				MX6QDL_PAD_DISP0_DAT21__IPU1_DISP0_DATA21  0x10
 				MX6QDL_PAD_DISP0_DAT22__IPU1_DISP0_DATA22  0x10
 				MX6QDL_PAD_DISP0_DAT23__IPU1_DISP0_DATA23  0x10
+				MX6QDL_PAD_DI0_PIN2__IPU1_DI0_PIN02        0x10			// LCD HSync
+				MX6QDL_PAD_DI0_PIN3__IPU1_DI0_PIN03        0x10			// LCD VSync
+				MX6QDL_PAD_DI0_PIN4__IPU1_DI0_PIN04        0x80000000	// LCD Contrast
+				MX6QDL_PAD_DI0_PIN15__IPU1_DI0_PIN15       0x10			// LCD DEN
+				MX6QDL_PAD_DI0_DISP_CLK__IPU1_DI0_DISP_CLK 0x10
 			>;
 		};
-
-		pinctrl_ipu1_2: ipu1grp-2 { /* parallel camera */
+		
+		/*
+		 *	IPU1 is only used for parallel RGB on M300
+		 *
+		pinctrl_ipu1_2: ipu1grp-2 { // parallel camera
 			fsl,pins = <
 				MX6QDL_PAD_CSI0_DAT12__IPU1_CSI0_DATA12    0x80000000
 				MX6QDL_PAD_CSI0_DAT13__IPU1_CSI0_DATA13    0x80000000
@@ -1482,6 +1585,7 @@
 				MX6QDL_PAD_CSI0_VSYNC__IPU1_CSI0_VSYNC     0x80000000
 			>;
 		};
+		 */
 
 		pinctrl_ipu1_3: ipu1grp-3 { /* parallel port 16-bit */
 			fsl,pins = <
@@ -1516,7 +1620,8 @@
 				MX6QDL_PAD_GPIO_2__MLB_DATA 0x71
 			>;
 		};
-
+		
+		/*
 		pinctrl_mlb_2: mlbgrp-2 {
 			fsl,pins = <
 				MX6QDL_PAD_ENET_TXD1__MLB_CLK 0x80000000
@@ -1524,6 +1629,7 @@
 				MX6QDL_PAD_GPIO_2__MLB_DATA   0x80000000
 			>;
 		};
+		 */
 	};
 
 	pwm1 {
@@ -1534,6 +1640,7 @@
 		};
 	};
 
+	/*
 	pwm3 {
 		pinctrl_pwm3_1: pwm3grp-1 {
 			fsl,pins = <
@@ -1541,6 +1648,7 @@
 			>;
 		};
 	};
+	 */
 
 	spdif {
 		pinctrl_spdif_1: spdifgrp-1 {
@@ -1560,18 +1668,25 @@
 	uart1 {
 		pinctrl_uart1_1: uart1grp-1 {
 			fsl,pins = <
-				MX6QDL_PAD_CSI0_DAT10__UART1_TX_DATA 0x1b0b1
-				MX6QDL_PAD_CSI0_DAT11__UART1_RX_DATA 0x1b0b1
+				MX6QDL_PAD_SD3_DAT7__UART1_TX_DATA	0x1b0b1
+				MX6QDL_PAD_SD3_DAT6__UART1_RX_DATA	0x1b0b1
+				MX6QDL_PAD_SD3_DAT0__UART1_CTS_B	0x1b0b1
+				MX6QDL_PAD_SD3_DAT1__UART1_RTS_B	0x1b0b1
 			>;
 		};
+		/*
 		pinctrl_uart1_2: uart1grp-2 {
 			fsl,pins = <
 				MX6QDL_PAD_SD3_DAT7__UART1_TX_DATA 0x1b0b1
 				MX6QDL_PAD_SD3_DAT6__UART1_RX_DATA 0x1b0b1
 			>;
 		};
+		 */
 	};
-
+	
+	/*
+	 * UART2 not used in M300
+	 *
 	uart2 {
 		pinctrl_uart2_1: uart2grp-1 {
 			fsl,pins = <
@@ -1580,7 +1695,7 @@
 			>;
 		};
 
-		pinctrl_uart2_2: uart2grp-2 { /* DTE mode */
+		pinctrl_uart2_2: uart2grp-2 { // DTE mode
 			fsl,pins = <
 				MX6QDL_PAD_EIM_D26__UART2_RX_DATA   0x1b0b1
 				MX6QDL_PAD_EIM_D27__UART2_TX_DATA   0x1b0b1
@@ -1589,7 +1704,11 @@
 			>;
 		};
 	};
-
+	*/
+	
+	/*
+	 * UART3 not used in M300
+	 *
 	uart3 {
 		pinctrl_uart3_1: uart3grp-1 {
 			fsl,pins = <
@@ -1600,14 +1719,14 @@
 			>;
 		};
 	};
-
+	 */
 	uart4 {
 		pinctrl_uart4_1: uart4grp-1 {
 			fsl,pins = <
-				MX6QDL_PAD_KEY_COL0__UART4_TX_DATA 0x1b0b1
-				MX6QDL_PAD_KEY_ROW0__UART4_RX_DATA 0x1b0b1
-				MX6QDL_PAD_CSI0_DAT17__UART4_CTS_B 0x1b0b1
-				MX6QDL_PAD_CSI0_DAT16__UART4_RTS_B 0x1b0b1
+				MX6QDL_PAD_CSI0_DAT12__UART4_TX_DATA 0x1b0b1
+				MX6QDL_PAD_CSI0_DAT13__UART4_RX_DATA 0x1b0b1
+				MX6QDL_PAD_CSI0_DAT17__UART4_CTS_B   0x1b0b1
+				MX6QDL_PAD_CSI0_DAT16__UART4_RTS_B   0x1b0b1
 			>;
 		};
 	};
@@ -1622,21 +1741,36 @@
 			>;
 		};
 	};
+	
+	usbh1 {
+		pinctrl_usbh1_1: usbh1grp-1 {
+			fsl,pins = <
+				MX6QDL_PAD_EIM_D30__USB_H1_OC	0x17059
+				MX6QDL_PAD_EIM_D31__USB_H1_PWR	0x17059
+			>;
+		};
+	};
 
 	usbotg {
 		pinctrl_usbotg_1: usbotggrp-1 {
 			fsl,pins = <
-				MX6QDL_PAD_GPIO_1__USB_OTG_ID 0x17059
+				MX6QDL_PAD_EIM_D21__USB_OTG_OC  0x17059
+				MX6QDL_PAD_EIM_D22__USB_OTG_PWR 0x17059
+				MX6QDL_PAD_GPIO_1__USB_OTG_ID   0x17059
 			>;
 		};
-
+		/*
 		pinctrl_usbotg_2: usbotggrp-2 {
 			fsl,pins = <
 				MX6QDL_PAD_ENET_RX_ER__USB_OTG_ID 0x17059
 			>;
 		};
+		 */
 	};
 
+	/*
+	 * USB H2 not used in M300
+	 *
 	usbh2 {
 		pinctrl_usbh2_1: usbh2grp-1 {
 			fsl,pins = <
@@ -1651,7 +1785,11 @@
 			>;
 		};
 	};
-
+	 */
+	
+	/*
+	 * USB H3 not used in M300
+	 *
 	usbh3 {
 		pinctrl_usbh3_1: usbh3grp-1 {
 			fsl,pins = <
@@ -1666,7 +1804,10 @@
 			>;
 		};
 	};
-
+	 */
+	/*
+	 * USDHC1 - Not used in M300
+	 *
 	usdhc1 {
 		pinctrl_usdhc1_1: usdhc1grp-1 {
 			fsl,pins = <
@@ -1679,23 +1820,24 @@
 			>;
 		};
 	};
-
+	 */
+	
+	/*
+	 * USDHC2 - Used in 4-bit mode as boot device in M300
+	 */
 	usdhc2 {
 		pinctrl_usdhc2_1: usdhc2grp-1 {
 			fsl,pins = <
-				MX6QDL_PAD_SD2_CMD__SD2_CMD    0x17059
-				MX6QDL_PAD_SD2_CLK__SD2_CLK    0x10059
 				MX6QDL_PAD_SD2_DAT0__SD2_DATA0 0x17059
 				MX6QDL_PAD_SD2_DAT1__SD2_DATA1 0x17059
 				MX6QDL_PAD_SD2_DAT2__SD2_DATA2 0x17059
 				MX6QDL_PAD_SD2_DAT3__SD2_DATA3 0x17059
-				/*
-				 * SD2 is 4-bit in M300
 				MX6QDL_PAD_NANDF_D4__SD2_DATA4 0x17059
 				MX6QDL_PAD_NANDF_D5__SD2_DATA5 0x17059
 				MX6QDL_PAD_NANDF_D6__SD2_DATA6 0x17059
 				MX6QDL_PAD_NANDF_D7__SD2_DATA7 0x17059
-				 */
+				MX6QDL_PAD_SD2_CMD__SD2_CMD    0x17059
+				MX6QDL_PAD_SD2_CLK__SD2_CLK    0x10059
 			>;
 		};
 		/*
@@ -1711,6 +1853,7 @@
 		};
 		 */
 	};
+	
 	/*
 	usdhc3 {
 		pinctrl_usdhc3_1: usdhc3grp-1 {
@@ -1728,7 +1871,7 @@
 			>;
 		};
 
-		pinctrl_usdhc3_1_100mhz: usdhc3grp-1-100mhz {
+		pinctrl_usdhc3_1_100mhz: usdhc3grp-1-100mhz { // 100Mhz
 			fsl,pins = <
 				MX6QDL_PAD_SD3_CMD__SD3_CMD 0x170B9
 				MX6QDL_PAD_SD3_CLK__SD3_CLK 0x100B9
@@ -1743,7 +1886,7 @@
 			>;
 		};
 
-		pinctrl_usdhc3_1_200mhz: usdhc3grp-1-200mhz {
+		pinctrl_usdhc3_1_200mhz: usdhc3grp-1-200mhz { // 200Mhz
 			fsl,pins = <
 				MX6QDL_PAD_SD3_CMD__SD3_CMD 0x170F9
 				MX6QDL_PAD_SD3_CLK__SD3_CLK 0x100F9
@@ -1769,21 +1912,26 @@
 			>;
 		};
 	};
-	 */
-
+	*/
+	
+	/*
+	 *	USDHC4 - External (off module) SD card socket (8-bit)
+	 *	Re-ordered to match M300 schematic
+	 */	
 	usdhc4 {
 		pinctrl_usdhc4_1: usdhc4grp-1 {
 			fsl,pins = <
-				MX6QDL_PAD_SD4_CMD__SD4_CMD    0x17059
-				MX6QDL_PAD_SD4_CLK__SD4_CLK    0x10059
-				MX6QDL_PAD_SD4_DAT0__SD4_DATA0 0x17059
-				MX6QDL_PAD_SD4_DAT1__SD4_DATA1 0x17059
-				MX6QDL_PAD_SD4_DAT2__SD4_DATA2 0x17059
-				MX6QDL_PAD_SD4_DAT3__SD4_DATA3 0x17059
-				MX6QDL_PAD_SD4_DAT4__SD4_DATA4 0x17059
-				MX6QDL_PAD_SD4_DAT5__SD4_DATA5 0x17059
-				MX6QDL_PAD_SD4_DAT6__SD4_DATA6 0x17059
-				MX6QDL_PAD_SD4_DAT7__SD4_DATA7 0x17059
+				MX6QDL_PAD_SD4_DAT0__SD4_DATA0  0x17059
+				MX6QDL_PAD_SD4_DAT1__SD4_DATA1  0x17059
+				MX6QDL_PAD_SD4_DAT2__SD4_DATA2  0x17059
+				MX6QDL_PAD_SD4_DAT3__SD4_DATA3  0x17059
+				MX6QDL_PAD_SD4_DAT4__SD4_DATA4  0x17059
+				MX6QDL_PAD_SD4_DAT5__SD4_DATA5  0x17059
+				MX6QDL_PAD_SD4_DAT6__SD4_DATA6  0x17059
+				MX6QDL_PAD_SD4_DAT7__SD4_DATA7  0x17059
+				MX6QDL_PAD_NANDF_ALE__SD4_RESET 0x17059	// Goes to CD pin on socket
+				MX6QDL_PAD_SD4_CLK__SD4_CLK     0x10059
+				MX6QDL_PAD_SD4_CMD__SD4_CMD     0x17059
 			>;
 		};
 		/*
@@ -1797,22 +1945,22 @@
 				MX6QDL_PAD_SD4_DAT3__SD4_DATA3 0x17059
 			>;
 		};
-		*/
+		 */
 	};
-
+	/*
 	weim {
 		pinctrl_weim_cs0_1: weim_cs0grp-1 {
 			fsl,pins = <
 				MX6QDL_PAD_EIM_CS0__EIM_CS0_B   0xb0b1
 			>;
 		};
-
+		
 		pinctrl_weim_nor_1: weim_norgrp-1 {
 			fsl,pins = <
 				MX6QDL_PAD_EIM_OE__EIM_OE_B     0xb0b1
 				MX6QDL_PAD_EIM_RW__EIM_RW       0xb0b1
 				MX6QDL_PAD_EIM_WAIT__EIM_WAIT_B 0xb060
-				/* data */
+				// data
 				MX6QDL_PAD_EIM_D16__EIM_DATA16 0x1b0b0
 				MX6QDL_PAD_EIM_D17__EIM_DATA17 0x1b0b0
 				MX6QDL_PAD_EIM_D18__EIM_DATA18 0x1b0b0
@@ -1829,7 +1977,7 @@
 				MX6QDL_PAD_EIM_D29__EIM_DATA29 0x1b0b0
 				MX6QDL_PAD_EIM_D30__EIM_DATA30 0x1b0b0
 				MX6QDL_PAD_EIM_D31__EIM_DATA31 0x1b0b0
-				/* address */
+				// address
 				MX6QDL_PAD_EIM_A23__EIM_ADDR23 0xb0b1
 				MX6QDL_PAD_EIM_A22__EIM_ADDR22 0xb0b1
 				MX6QDL_PAD_EIM_A21__EIM_ADDR21 0xb0b1
@@ -1856,5 +2004,7 @@
 				MX6QDL_PAD_EIM_DA0__EIM_AD00   0xb0b1
 			>;
 		};
+		
 	};
+	 */
 };
diff --git a/arch/arm/boot/dts/imx6m300.dtsi b/arch/arm/boot/dts/imx6m300.dtsi
index 89cf139..17a34f2 100644
--- a/arch/arm/boot/dts/imx6m300.dtsi
+++ b/arch/arm/boot/dts/imx6m300.dtsi
@@ -25,7 +25,10 @@
 	memory {
 		reg = <0x10000000 0x80000000>;
 	};
-
+	
+	/*
+	 *	Add the regulators for the SoC and USB
+	 */
 	regulators {
 		compatible = "simple-bus";
 		
@@ -50,14 +53,18 @@
 			regulator-always-on;
 		};
 		
-		reg_usb_otg_vbus: reg_usb_o {
+		reg_usb_otg_vbus: reg_usb_otg {
 			regulator-min-microvolt = <5000000>;
 			regulator-max-microvolt = <5000000>;
 			regulator-boot-on;
 			regulator-always-on;
 		};
 	};
-		
+
+	//
+	//	LVDS CABC Not implemented on M300
+	//
+	/*
 	hannstar_cabc {
 		compatible = "hannstar,cabc";
 
@@ -69,7 +76,8 @@
 			gpios = <&gpio6 16 GPIO_ACTIVE_HIGH>;
 		};
 	};
-
+	*/
+	
 	leds {
 		compatible = "gpio-leds";
 
@@ -96,12 +104,14 @@
 			linux,code = <114>; /* KEY_VOLUMEDOWN */
 		};
 	};
-
+	//
+	//	SGTL5000 Audio Codec, attached to AUD 3 (SSI3) and I2C 1
+	//
 	sound {
 		compatible = "fsl,imxm300-sgtl5000",
 			   "fsl,imx-audio-sgtl5000";
 		model = "sgtl5000-audio";
-		ssi-controller = <&ssi1>;
+		ssi-controller = <&ssi3>;
 		audio-codec = <&codec>;
 		audio-routing =
 			"MIC_IN", "Mic Jack",
@@ -117,13 +127,15 @@
 		model = "imx-audio-hdmi";
 		hdmi-controller = <&hdmi_audio>;
 	};
-
+	//
+	//	7" LVDS Display (800x480 - WVGA)
+	//
 	mxcfb1: fb@0 {
 		compatible = "fsl,mxc_sdc_fb";
 		disp_dev = "ldb";
-		interface_pix_fmt = "RGB666";
-		mode_str ="LDB-XGA";
-		default_bpp = <16>;
+		interface_pix_fmt = "RGB24";
+		mode_str ="LVDS7-800x480";
+		default_bpp = <24>;
 		int_clk = <0>;
 		late_init = <0>;
 		status = "disabled";
@@ -139,24 +151,41 @@
 		late_init = <0>;
 		status = "disabled";
 	};
-
+	//
+	//	4.3" Parallel RGB Display (480x272 - WQVGA)
+	//
 	mxcfb3: fb@2 {
 		compatible = "fsl,mxc_sdc_fb";
 		disp_dev = "lcd";
-		interface_pix_fmt = "RGB565";
-		mode_str ="CLAA-WVGA";
-		default_bpp = <16>;
+		interface_pix_fmt = "RGB24";
+		mode_str ="LCD4.3-480x272";
+		default_bpp = <24>;
 		int_clk = <0>;
 		late_init = <0>;
 		status = "disabled";
 	};
-
+	//
+	//	7" Parallel RGB Display (800x480 - WVGA)
+	//
 	mxcfb4: fb@3 {
 		compatible = "fsl,mxc_sdc_fb";
-		disp_dev = "ldb";
-		interface_pix_fmt = "RGB666";
-		mode_str ="LDB-XGA";
-		default_bpp = <16>;
+		disp_dev = "lcd";
+		interface_pix_fmt = "RGB24";
+		mode_str ="LCD7-800x480";
+		default_bpp = <24>;
+		int_clk = <0>;
+		late_init = <0>;
+		status = "disabled";
+	};
+	//
+	//	10" Parallel RGB Display (1024x600 - WSVGA)
+	//
+	mxcfb5: fb@4 {
+		compatible = "fsl,mxc_sdc_fb";
+		disp_dev = "lcd";
+		interface_pix_fmt = "RGB24";
+		mode_str = "LCD10-1024x600";
+		default_bpp = <24>;
 		int_clk = <0>;
 		late_init = <0>;
 		status = "disabled";
@@ -166,7 +195,7 @@
 		compatible = "fsl,lcd";
 		ipu_id = <0>;
 		disp_id = <0>;
-		default_ifmt = "RGB565";
+		default_ifmt = "RGB24";
 		pinctrl-names = "default";
 		pinctrl-0 = <&pinctrl_ipu1_1>;
 		status = "okay";
@@ -199,7 +228,6 @@
 		compatible = "fsl,mxc_v4l2_output";
 		status = "okay";
 	};
-	
 	/*
 	mipi_dsi_reset: mipi-dsi-reset {
 		compatible = "gpio-reset";
@@ -207,7 +235,7 @@
 		reset-delay-us = <50>;
 		#reset-cells = <0>;
 	};
-	*/
+	 */
 };
 
 &audmux {
@@ -221,33 +249,46 @@
 	soc-supply = <&sw1c_reg>;
 	pu-supply = <&pu_dummy>; /* use pu_dummy if VDDSOC share with VDDPU */
 };
-
+//
+//	SPI1 - With two select lines (ECSPI1_SS1 and ECSPI2_SS2) on M300 
+//
+//	M300 carrier board has 1MB NOR FLASH on SPI, as two 4Mb devices on
+//	SS1 and SS2
+//
 &ecspi1 {
-	/*
 	fsl,spi-num-chipselects = <1>;
 	cs-gpios = <&gpio4 9 0>;
-	 */
 	pinctrl-names = "default";
-	pinctrl-0 = <&pinctrl_ecspi1_1>;
+	pinctrl-0 = <&pinctrl_ecspi1_2>;
 	status = "okay";
+	
 	/*
-	flash: m25p80@0 {
+	 *	Serial flash device on Mithras carrier board - used to test the SPI interface
+	 *	The device is actually AT25SF041 (4Mb) - the kernel detects it as MR25H256
+	 */
+	flash: mr25h256@0 {
 		#address-cells = <1>;
 		#size-cells = <1>;
 		compatible = "st,m25p32";
 		spi-max-frequency = <20000000>;
 		reg = <0>;
 	};
-	 */
 };
 
+//
+//	Fast Ethernet Connector - Implemented as 10/100Mbs on M300 (not 1Gbs); PHY is 
+//	KSZ8081RNBIA RMII mode
+//
 &fec {
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_enet_1>;
-	phy-mode = "rgmii";
+	phy-mode = "rmii";
 	status = "okay";
 };
 
+//
+//	General Power Controller
+//
 &gpc {
 	fsl,cpu_pupscr_sw2iso = <0xf>;
 	fsl,cpu_pupscr_sw = <0xf>;
@@ -258,10 +299,16 @@
 	pu-supply = <&pu_dummy>; /* ldo-bypass:use pu_dummy if VDDSOC share with VDDPU */
 };
 
+//
+//	Graphics Processor
+//
 &gpu {
 	pu-supply = <&pu_dummy>; /* ldo-bypass:use pu_dummy if VDDSOC share with VDDPU */
 };
 
+//
+//	Audio codec Control I2C - Port 1 Address 0x14
+//
 &i2c1 {
 	clock-frequency = <100000>;
 	pinctrl-names = "default";
@@ -277,6 +324,9 @@
 
 };
 
+//
+//	I2C Port 3 - Goes to PCIe
+//
 &i2c3 {
         clock-frequency = <100000>;
         pinctrl-names = "default";
@@ -284,6 +334,9 @@
         status = "okay";
 };
 
+//
+//	I2C Port 4
+//
 &i2c4 {
         clock-frequency = <100000>;
         pinctrl-names = "default";
@@ -299,15 +352,15 @@
 		pinctrl_hog_1: hoggrp-1 {
 			fsl,pins = <
 				MX6QDL_PAD_GPIO_4__GPIO1_IO04   0x80000000
-				//MX6QDL_PAD_GPIO_5__GPIO1_IO05   0x80000000
+				//MX6QDL_PAD_GPIO_5__GPIO1_IO05   0x80000000	// Used for I2C3 SCLK
 				MX6QDL_PAD_NANDF_D0__GPIO2_IO00 0x80000000
 				MX6QDL_PAD_NANDF_D1__GPIO2_IO01 0x80000000
 				MX6QDL_PAD_NANDF_D2__GPIO2_IO02 0x80000000
 				MX6QDL_PAD_NANDF_D3__GPIO2_IO03 0x80000000
-				MX6QDL_PAD_NANDF_ALE__GPIO6_IO08 0x80000000
+				//MX6QDL_PAD_NANDF_ALE__GPIO6_IO08 0x80000000	// Used for SD4 (CD Pin)
 				MX6QDL_PAD_NANDF_CLE__GPIO6_IO07 0x80000000
 				MX6QDL_PAD_GPIO_0__CCM_CLKO1    0x130b0
-				MX6QDL_PAD_NANDF_CS2__GPIO6_IO15 0x80000000
+				//MX6QDL_PAD_NANDF_CS2__GPIO6_IO15 0x80000000
 				//MX6QDL_PAD_NANDF_CS3__GPIO6_IO16 0x80000000
 				MX6QDL_PAD_EIM_D26__GPIO3_IO26 0x80000000
 				MX6QDL_PAD_EIM_CS1__GPIO2_IO24 0x80000000
@@ -319,15 +372,13 @@
 				MX6QDL_PAD_NANDF_CS0__GPIO6_IO11 0x80000000
 				MX6QDL_PAD_NANDF_CS1__GPIO6_IO14 0x80000000
 				MX6QDL_PAD_EIM_EB3__GPIO2_IO31 0x80000000
-				MX6QDL_PAD_EIM_D16__GPIO3_IO16 0x80000000
+				//MX6QDL_PAD_EIM_D16__GPIO3_IO16 0x80000000
 				MX6QDL_PAD_EIM_DA9__GPIO3_IO09 0x80000000
-				MX6QDL_PAD_GPIO_4__GPIO1_IO04 0x80000000
-				//MX6QDL_PAD_GPIO_5__GPIO1_IO05 0x80000000
 				MX6QDL_PAD_EIM_D29__GPIO3_IO29 0x80000000
 				MX6QDL_PAD_SD3_RST__GPIO7_IO08 0x80000000
-				MX6QDL_PAD_GPIO_9__GPIO1_IO09 0x80000000
+				//MX6QDL_PAD_GPIO_9__GPIO1_IO09 0x80000000
 				MX6QDL_PAD_GPIO_1__WDOG2_B 0x80000000
-				MX6QDL_PAD_GPIO_2__GPIO1_IO02 0x80000000
+				//MX6QDL_PAD_GPIO_2__GPIO1_IO02 0x80000000
 			>;
 		};
 	};
@@ -343,6 +394,9 @@
 	status = "okay";
 };
 
+//
+//	MIPI Camera Interface
+//
 &mipi_csi {
 	status = "okay";
 	ipu_id = <0>;
@@ -352,6 +406,8 @@
 };
 
 /*
+ *	MIPI Display Interface - Not available on M300
+ *
 &mipi_dsi {
 	dev_id = <0>;
 	disp_id = <1>;
@@ -360,69 +416,101 @@
 	resets = <&mipi_dsi_reset>;
 	status = "disabled";
 };
-*/
+ */
 
+//
+//	PCIe 
+//
 &pcie {
-	power-on-gpio = <&gpio3 19 0>;
-	reset-gpio = <&gpio7 12 0>;
+	power-on-gpio = <&gpio5 20 0>;
 	status = "okay";
 };
 
-
+//
+//	PWM1 - LVDS Backlight Brightness Control 
+//
 &pwm1 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_pwm1_1>;
 	status = "okay";
 };
 
-&ssi2 {
+//
+//	SSI1 (I2S 1) - Not available on M300
+//
+&ssi1 {
 	fsl,mode = "i2s-slave";
-	status = "okay";
+	status = "disabled";
 };
 
+//
+//	UART1 - (M300 name UART0) - Debug console
+//
 &uart1 {
 	pinctrl-names = "default";
-	pinctrl-0 = <&pinctrl_uart1_2>;
+	pinctrl-0 = <&pinctrl_uart1_1>;
 	status = "okay";
 };
 
+//
+//	UART4 - (M300 name UART1) - Instrument control
+//
 &uart4 {
 	pinctrl-names = "default";
-	pinctrl-0 = <&pinctrl_uart4_1>;
+	pinctrl-0 = <pinctrl_uart4_1>;
 	status = "okay";
 };
 
+//
+//	UART5 - (M300 name UART2)
+//
 &uart5 {
 	pinctrl-names = "default";
-	pinctrl-0 = <&pinctrl_uart5_1>;
+	pinctrl-0 = <pinctrl_uart5_1>;
 	status = "okay";
 };
 
+//
+//	USB H1 - USB2.0 Host port
+//
 &usbh1 {
 	vbus-supply = <&reg_usb_h1_vbus>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_usbh1_1>;
 	status = "okay";
 };
 
+//
+//	USB OTG - USB 2.0 OTG port
+//
 &usbotg {
 	vbus-supply = <&reg_usb_otg_vbus>;
 	pinctrl-names = "default";
-	pinctrl-0 = <&pinctrl_usbotg_2>;
+	pinctrl-0 = <&pinctrl_usbotg_1>;
 	disable-over-current;
 	status = "okay";
 };
 
+//
+//	uSD HC 2 - M300 Boot device on module (1 or 4-bit mode only)
+//
 &usdhc2 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_usdhc2_1>;
-	//cd-gpios = <&gpio2 2 0>;
+	//
+	//	Card detect (GPIO1-IO4) pulled low, no write protect
+	//
+	cd-gpios = <&gpio1 4 0>;
 	//wp-gpios = <&gpio2 3 0>;
-	bus-width = <4>;
 	no-1-8-v;
 	keep-power-in-suspend;
 	enable-sdio-wakeup;
 	status = "okay";
 };
+
 /*
+ *	uSD HC 3 - Not available on M300
+ *
 &usdhc3 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_usdhc3_1>;
@@ -431,19 +519,27 @@
 	no-1-8-v;
 	keep-power-in-suspend;
 	enable-sdio-wakeup;
-	status = "okay";
+	status = "disabled";
 };
-*/
+ */
+ 
+//
+//	uSD HC 4 - Extension SD card interface (1, 4 or 8-bit)
+//
 &usdhc4 {
-        pinctrl-names = "default";
-        pinctrl-0 = <&pinctrl_usdhc4_1>;
-        bus-width = <8>;
-        non-removable;
-        no-1-8-v;
+    pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_usdhc4_1>;
+	//cd-gpios = <&gpio6 8 0>;
+	bus-width = <8>;
+    non-removable;
+    no-1-8-v;
 	keep-power-in-suspend;
-        status = "okay";
+    status = "okay";
 };
 
+//
+//	Video Processor
+//
 &vpu {
 	pu-supply = <&pu_dummy>; /* ldo-bypass:use pu_dummy if VDDSOC share with VDDPU */
 };
-- 
1.9.1

